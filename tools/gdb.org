* GDB调试
xxgdb是x-window系统的调试工具.

** 编译
gcc -g<number>  # number的取值可以是1, 2, 3. 默认为2.
2产生的调试信息包括扩展的符号表、行号、局部或外部变量信息.
3包含2中的所有信息, 还包括源代码中定义的宏.
1不包含局部变量以及行号有关的调试信息, 只能用于回溯跟踪和堆栈转储.

回溯跟踪指的是监视程序在运行过程中的函数调用历史, 堆栈转储则是一种以原始的16进制格式保存程序执行
环境的方法.

gcc -ggdb  # 可以在生成的调试信息中添加gdb专用的调试信息. 接受的调试级别同-g


** gdb调试命令
在函数中, 调试时如果不涉及到函数调用, s和n的作用一样.
s  # step in的意思
n  # next的意思

call <funcname>  # 在gdb中调用某个函数

shell  # 不用退出gdb, 进入shell
examine简写为x  # 查看内存地址中的值
backtrace  # 查看详细的调用栈信息
frame <num>  # 查看某个栈帧的信息

** 显示数据的格式
p/x  <var>  # 按16进制格式显示变量的值
p/d  <var>  # 按10进制格式显示
p/u  <var>  # 按16进制格式显示无符号
p/o  <var>  # 按8进制格式显示
p/t  <var>  # 按2进制格式显示
p/a  <var>  # 按16进制格式显示
p/c  <var>  # 按字符格式显示
p/f  <var>  # 按浮点数格式显示

display <var>  # 自动显示变量的值
display/<fmt>  <var>

* GCC编译
** gcc文件类型约定规则
| 后缀          | 文件类型约定                       |
|---------------+------------------------------------|
| .c            | C语言源代码文件                    |
| .a            | 由目标文件构成的档案库文件, 静态库 |
| .C, .cc. .cxx | C++源码文件                        |
| .h            | 程序包含的头文件                   |
| .i            | 经预处理过的C源代码文件            |
| .ii           | 经预处理过的c++源代码文件          |
| .m            | objective-c的源代码文件            |
| .o            | 编译后的目标文件                   |
| .s            | 汇编语言源代码文件                 |
| .S            | 经过预编译的汇编语言源代码         |

** gcc常用选项
| 选项          | 含义                                                 |
|---------------+------------------------------------------------------|
| -o <filename> | 指定输出文件名                                       |
| -c            | 只编译不链接, 生成目标文件.o                         |
| -S            | 只编译不汇编, 生成汇编代码                           |
| -E            | 只进行预编译, 不做其他处理                           |
| -g            | 在生成的可执行呈现中包含标准调试信息                 |
| -v            | 打印编译器内部编译各个过程的命令行信息和编译器版本号 |
| -I dir        | 在头文件的搜索路径里边中添加dir目录                  |
| -L dir        | 在库文件中的搜索路径列表中添加dir目录                |
| -static       | 链接静态库                                           |
| -library      | 链接名为library的库文件                              |
| -Dmacro       | 定义指定的宏为macro                                  |
| -O, -O2, -O3  | 将优化状态打开, 该选项不能与-g选项联合使用           |
| -Wall         | 输出所有的警告信息                                   |
| -Werror       | 将所有的警告当做错误处理                             |
| -w            | 不输出任何信息                                       |
| -pedantic     | 严格要求符合ANSI标准                                 |
| -l <xx>       | 链接具体的库, 其实链接的是libxxx的文件               |


